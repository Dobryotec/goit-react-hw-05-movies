{"version":3,"file":"static/js/689.733cb996.chunk.js","mappings":"uQAAA,IAAMA,EAAW,gCACXC,EAAU,mCAET,SAASC,IACd,OAAOC,MAAM,GAAD,OAAIH,EAAJ,sCAA0CC,IAAWG,MAAK,SAAAC,GAAG,OACvEA,EAAIC,MADmE,GAG1E,CAEM,SAASC,EAAkBC,GAChC,OAAOL,MAAM,GAAD,OACPH,EADO,gCACyBC,EADzB,kBAC0CO,EAD1C,+CAEVJ,MAAK,SAAAC,GAAG,OAAIA,EAAIC,MAAR,GACX,CAEM,SAASG,EAAkBC,GAChC,OAAOP,MAAM,GAAD,OAAIH,EAAJ,iBAAqBU,EAArB,oBAAwCT,IAAWG,MAAK,SAAAC,GAAG,OACrEA,EAAIC,MADiE,GAGxE,CACM,SAASK,EAAgBD,GAC9B,OAAOP,MAAM,GAAD,OAAIH,EAAJ,iBAAqBU,EAArB,4BAAgDT,IAAWG,MACrE,SAAAC,GAAG,OAAIA,EAAIC,MAAR,GAEN,CAEM,SAASM,EAAkBF,GAChC,OAAOP,MAAM,GAAD,OACPH,EADO,iBACUU,EADV,4BACqCT,EADrC,2BAEVG,MAAK,SAAAC,GAAG,OAAIA,EAAIC,MAAR,GACX,C,oIC5BYO,EAAQC,EAAAA,GAAAA,MAAH,wNAYLC,EAASD,EAAAA,GAAAA,OAAH,2LAUNE,EAAWF,EAAAA,GAAAA,GAAH,iJAURG,EAAWH,EAAAA,GAAAA,GAAH,6C,kBCbrB,EAlBmB,SAAC,GAAuB,IAArBI,EAAoB,EAApBA,cACdC,GAAWC,EAAAA,EAAAA,MAEjB,OADAC,QAAQC,IAAIH,IAEV,SAACF,EAAD,UACGC,EAAcK,KAAI,WAAgBC,GAAW,IAAxBC,EAAuB,EAAvBA,GAAIC,EAAmB,EAAnBA,MACxB,OACE,SAACV,EAAD,WACE,UAAC,KAAD,CAAMW,GAAE,kBAAaF,GAAMG,MAAO,CAAEC,KAAMV,GAA1C,UACGK,EAAQ,EADX,IACeE,MAFFD,EAMlB,KAGN,ECuBD,EAnCmB,WAAO,IAAD,EACvB,GAAwCK,EAAAA,EAAAA,IAAgB,IAAxD,eAAOC,EAAP,KAAqBC,EAArB,KAEA,GAA0CC,EAAAA,EAAAA,WACxC,kCAAMC,KAAKC,MAAMC,aAAaC,QAAQ,yBAAtC,QAA2D,EAA3D,IADF,eAAOnB,EAAP,KAAsBoB,EAAtB,KAGMC,EAAM,UAAGR,EAAaS,IAAI,iBAApB,QAAiC,IAS7CC,EAAAA,EAAAA,YAAU,WACRL,aAAaM,QAAQ,gBAAiBR,KAAKS,UAAUzB,GACtD,GAAE,CAACA,IASJ,OACE,kBAAM0B,SAnBa,SAAAC,GACnBA,EAAEC,kBAEFvC,EAAAA,EAAAA,IAAkBgC,GACfnC,MAAK,gBAAG2C,EAAH,EAAGA,QAAH,OAAiBT,EAAiBS,EAAlC,IACLC,OAAM,SAAAC,GAAG,OAAI5B,QAAQ6B,MAAMD,EAAlB,GACb,EAaC,WACE,SAACpC,EAAD,CAAOsC,KAAK,OAAO3C,MAAO+B,EAAQa,SATZ,SAAAC,GACxB,GAAyB,KAArBA,EAAIC,OAAO9C,MACb,OAAOwB,EAAgB,CAAC,GAE1BA,EAAgB,CAAEO,OAAQc,EAAIC,OAAO9C,OACtC,KAKG,SAACO,EAAD,CAAQoC,KAAK,SAAb,qBACA,SAAC,EAAD,CAAYjC,cAAeA,MAGhC,C","sources":["components/services/FetchFilms.jsx","pages/MoviesPage/MoviesPage.styled.js","pages/MoviesPage/MoviesList.jsx","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["const _apiBase = 'https://api.themoviedb.org/3/';\nconst _apiKey = 'a8e8f1f6f05f8bbeb94fac813dcc486c';\n\nexport function fetchPopularFilms() {\n  return fetch(`${_apiBase}trending/movie/day?api_key=${_apiKey}`).then(res =>\n    res.json()\n  );\n}\n\nexport function fetchSearchMovies(value) {\n  return fetch(\n    `${_apiBase}search/movie?api_key=${_apiKey}&query=${value}&language=en-US&page=1&include_adult=false`\n  ).then(res => res.json());\n}\n\nexport function fetchMovieDetails(movieId) {\n  return fetch(`${_apiBase}movie/${movieId}?api_key=${_apiKey}`).then(res =>\n    res.json()\n  );\n}\nexport function fetchMovieCasts(movieId) {\n  return fetch(`${_apiBase}movie/${movieId}/credits?api_key=${_apiKey}`).then(\n    res => res.json()\n  );\n}\n\nexport function fetchMovieReviews(movieId) {\n  return fetch(\n    `${_apiBase}movie/${movieId}/reviews?api_key=${_apiKey}&language=en-US&page=1`\n  ).then(res => res.json());\n}\n","import styled from 'styled-components';\n\nexport const Input = styled.input`\n  border: 1px solid black;\n  border-radius: 5px;\n  padding-left: 10px;\n  transition: all 500ms;\n  margin-right: 10px;\n  cursor: pointer;\n  &:hover {\n    border: 1px solid orange;\n  }\n`;\n\nexport const Button = styled.button`\n  border: 1px solid orange;\n  border-radius: 10px;\n  padding: 2px 15px;\n  transition: background-color 700ms;\n  &:hover {\n    background-color: orange;\n  }\n`;\n\nexport const FilmItem = styled.li`\n  transition: color 700ms;\n  &:not(:last-child) {\n    margin-bottom: 15px;\n  }\n  &:hover {\n    color: orange;\n  }\n`;\n\nexport const FilmList = styled.ul`\n  margin-top: 40px;\n`;\n","import { Link, useLocation } from 'react-router-dom';\nimport { FilmItem, FilmList } from './MoviesPage.styled';\n\nconst MoviesList = ({ searchResults }) => {\n  const location = useLocation();\n  console.log(location);\n  return (\n    <FilmList>\n      {searchResults.map(({ id, title }, index) => {\n        return (\n          <FilmItem key={id}>\n            <Link to={`/movies/${id}`} state={{ from: location }}>\n              {index + 1}){title}\n            </Link>\n          </FilmItem>\n        );\n      })}\n    </FilmList>\n  );\n};\n\nexport default MoviesList;\n","import { useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { fetchSearchMovies } from 'components/services/FetchFilms';\nimport { Input, Button } from 'pages/MoviesPage/MoviesPage.styled';\n\nimport MoviesList from './MoviesList';\n\nconst MoviesPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams('');\n\n  const [searchResults, setSearchResults] = useState(\n    () => JSON.parse(localStorage.getItem('searchResults')) ?? []\n  );\n  const filmId = searchParams.get('filmId') ?? '';\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    fetchSearchMovies(filmId)\n      .then(({ results }) => setSearchResults(results))\n      .catch(err => console.error(err));\n  };\n  useEffect(() => {\n    localStorage.setItem('searchResults', JSON.stringify(searchResults));\n  }, [searchResults]);\n\n  const updateQueryString = evt => {\n    if (evt.target.value === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ filmId: evt.target.value });\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <Input type=\"text\" value={filmId} onChange={updateQueryString} />\n      <Button type=\"submit\">Search</Button>\n      <MoviesList searchResults={searchResults} />\n    </form>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["_apiBase","_apiKey","fetchPopularFilms","fetch","then","res","json","fetchSearchMovies","value","fetchMovieDetails","movieId","fetchMovieCasts","fetchMovieReviews","Input","styled","Button","FilmItem","FilmList","searchResults","location","useLocation","console","log","map","index","id","title","to","state","from","useSearchParams","searchParams","setSearchParams","useState","JSON","parse","localStorage","getItem","setSearchResults","filmId","get","useEffect","setItem","stringify","onSubmit","e","preventDefault","results","catch","err","error","type","onChange","evt","target"],"sourceRoot":""}